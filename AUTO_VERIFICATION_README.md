# üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞

## ‚úÖ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

**–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–ü–µ—Ä–µ–π—Ç–∏ –≤ –±–æ—Ç–∞" –Ω–∞ —Å–∞–π—Ç–µ, –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ Telegram, –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞", –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–µ–∑ –≤–≤–æ–¥–∞ –∫–æ–¥–∞.

## üîÑ –ù–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

### üì± **–ü–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å:**

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —Å–∞–π—Ç–µ** ‚Üí —Ä–∞–∑–¥–µ–ª "More" ‚Üí "–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞"
2. **–ù–∞–∂–∏–º–∞–µ—Ç "–ü–µ—Ä–µ–π—Ç–∏ –≤ –±–æ—Ç–∞"** ‚Üí –∏–Ω–∏—Ü–∏–∞—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
3. **–û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Telegram** ‚Üí –±–æ—Ç @SocialSpaceWEB_bot
4. **–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `/start`** ‚Üí –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
5. **–ù–∞–∂–∏–º–∞–µ—Ç "üì± –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞"** ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç
6. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è** ‚Üí –Ω–æ–º–µ—Ä –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –≤–≤–æ–¥–∞ –∫–æ–¥–∞
7. **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ —Å–∞–π—Ç** ‚Üí —Å—Ç–∞—Ç—É—Å —É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω!

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### Backend –∏–∑–º–µ–Ω–µ–Ω–∏—è:

#### 1. **Telegram –±–æ—Ç (`telegram-bot.js`):**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞
- –§—É–Ω–∫—Ü–∏—è `autoVerifyPhoneNumber()` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ë–î
- –§—É–Ω–∫—Ü–∏—è `linkUserToChat()` –¥–ª—è —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å chatId

#### 2. **API –º–∞—Ä—à—Ä—É—Ç—ã (`phoneVerification.js`):**
- –ù–æ–≤—ã–π endpoint `/start-auto-verification` –¥–ª—è –∏–Ω–∏—Ü–∏–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –£–±—Ä–∞–Ω–∞ —Ñ–æ—Ä–º–∞ –≤–≤–æ–¥–∞ –∫–æ–¥–∞

#### 3. **–ú–æ–¥–µ–ª—å User:**
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `telegramChatId` –¥–ª—è —Å–≤—è–∑—ã–≤–∞–Ω–∏—è —Å Telegram

### Frontend –∏–∑–º–µ–Ω–µ–Ω–∏—è:

#### 1. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç PhoneVerification:**
- –ö–Ω–æ–ø–∫–∞ "–ü–µ—Ä–µ–π—Ç–∏ –≤ –±–æ—Ç–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è)"
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
- –£–±—Ä–∞–Ω–∞ —Ñ–æ—Ä–º–∞ –≤–≤–æ–¥–∞ –∫–æ–¥–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –æ–¥–∏–Ω –∫–ª–∏–∫ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–Ω—Ç–∞–∫—Ç–∞  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –Ω–µ—Ç —Ä–∏—Å–∫–∞ –≤–≤–æ–¥–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞  
‚úÖ **–£–¥–æ–±—Å—Ç–≤–æ** - –Ω–µ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å –∏ –≤–≤–æ–¥–∏—Ç—å –∫–æ–¥  
‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞  
‚úÖ **UX** - –ø–ª–∞–≤–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –±–µ–∑ –ª–∏—à–Ω–∏—Ö —à–∞–≥–æ–≤  

## üöÄ –ó–∞–ø—É—Å–∫ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. **–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞:**
```bash
cd SERVER
npm run dev
```

### 2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç ‚Üí —Ä–∞–∑–¥–µ–ª "More" ‚Üí "–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞"
2. –ù–∞–∂–º–∏—Ç–µ "–ü–µ—Ä–µ–π—Ç–∏ –≤ –±–æ—Ç–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è)"
3. –í Telegram –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
4. –ù–∞–∂–º–∏—Ç–µ "üì± –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞"
5. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –Ω–∞ —Å–∞–π—Ç ‚Üí —Å—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### 3. **–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏:**
```
‚úÖ MongoDB connected successfully
‚úÖ Repost hooks initialized
‚úÖ Telegram bot started successfully
üì± Bot token: 8481849743:AAHOM7yAhs3evhou_rHxR5ktJwVsWxZfwrc
üîó Users can start the bot with /start
üöÄ Server running on port 3000

üë§ User username (123456789) started bot
üì± Contact received from username (123456789): +79001234567
‚úÖ Auto-verification completed for 79001234567 (chatId: 123456789)
üîó Linked user username (userId) to chatId 123456789
‚úÖ Auto-verified phone for user username (userId): 79001234567
```

## üîó API Endpoints

### –ù–æ–≤—ã–µ endpoints:

#### POST `/api/phone-verification/start-auto-verification`
–ò–Ω–∏—Ü–∏–∞—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏.

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "message": "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∞",
  "botLink": "https://t.me/SocialSpaceWEB_bot",
  "chatId": "user_123_1704067200000"
}
```

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ endpoints:

#### GET `/api/phone-verification/instructions`
–¢–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏.

## üéÆ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

### **–°—Ç–∞—Ä—ã–π –ø—Ä–æ—Ü–µ—Å—Å (—Å –∫–æ–¥–æ–º):**
1. –û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞ ‚Üí 2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç ‚Üí 3. –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥ ‚Üí 4. –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ —Å–∞–π—Ç ‚Üí 5. –í–≤–µ—Å—Ç–∏ –∫–æ–¥ ‚Üí 6. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å

### **–ù–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π):**
1. –ù–∞–∂–∞—Ç—å "–ü–µ—Ä–µ–π—Ç–∏ –≤ –±–æ—Ç–∞" ‚Üí 2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç ‚Üí 3. –ì–æ—Ç–æ–≤–æ! ‚úÖ

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```env
MONGODB_URI=mongodb://localhost:27017/socialspace
JWT_SECRET=your-jwt-secret
```

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```json
{
  "node-telegram-bot-api": "^0.64.0"
}
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –æ—Ç–≤–µ—á–∞–µ—Ç
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MongoDB
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ –∏ —É–¥–æ–±–Ω–æ - –æ–¥–∏–Ω –∫–ª–∏–∫ –∏ –≥–æ—Ç–æ–≤–æ! üöÄ
